#!/bin/bash

git push
if [ $? -ne 0 ]; then
    echo "Error: git push failed."
    exit 1
fi

# Wait a beat for the run to start
sleep 2

gh run watch

# Check the exit status of the gh run watch command
if [ $? -eq 0 ]; then
    cat << "EOF"

███████╗██╗   ██╗ ██████╗████████╗███████╗███████╗████████╗
██╔════╝██║   ██║██╔════╝╚══██╔══╝██╔════╝██╔════╝╚══██╔══╝
███████╗██║   ██║██║        ██║   █████╗  ███████╗   ██║
╚════██║██║   ██║██║        ██║   ██╔══╝  ╚════██║   ██║
███████║╚██████╔╝╚██████╗   ██║   ███████╗███████║   ██║
╚══════╝ ╚═════╝  ╚═════╝   ╚═╝   ╚══════╝╚══════╝   ╚═╝

EOF
else
    cat << "EOF"

███████╗ █████╗ ██╗██╗     ██╗███████╗
██╔════╝██╔══██╗██║██║     ██║██╔════╝
█████╗  ███████║██║██║     ██║███████╗
██╔══╝  ██╔══██║██║██║     ██║╚════██║
██║     ██║  ██║██║███████╗██║███████║
╚═╝     ╚═╝  ╚═╝╚═╝╚══════╝╚═╝╚══════╝

EOF
fi
